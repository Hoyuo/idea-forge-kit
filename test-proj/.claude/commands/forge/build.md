# /forge:build - TDD êµ¬í˜„ ì‹¤í–‰

## ì‚¬ìš©ë²•

```
/forge:build AUTH-001
/forge:build CHAT-002 --task FR-003
```

## ì…ë ¥

`$ARGUMENTS` - PRD ID (ì„ íƒì ìœ¼ë¡œ íŠ¹ì • íƒœìŠ¤í¬ ì§€ì •)

## ì›Œí¬í”Œë¡œìš°

### 1. ì¤€ë¹„ ë‹¨ê³„

```
ğŸ”¨ IdeaForge Build: {PRD_ID}
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
```

1. `.forge/tasks/{PRD_ID}/tasks.json` ë¡œë“œ
2. `.forge/progress/{PRD_ID}/checkpoint.json` í™•ì¸ (ì¬ê°œ ì—¬ë¶€)
3. ìƒì„±ëœ ì—ì´ì „íŠ¸ ëª©ë¡ í™•ì¸

### 2. TDD ì‚¬ì´í´

ê° íƒœìŠ¤í¬ì— ëŒ€í•´ RED-GREEN-REFACTOR ì‹¤í–‰:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Task 1/5: FR-001 ì´ë©”ì¼/ë¹„ë°€ë²ˆí˜¸ ë¡œê·¸ì¸         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                 â”‚
â”‚  ğŸ”´ RED Phase                                   â”‚
â”‚  â”œâ”€â”€ í…ŒìŠ¤íŠ¸ íŒŒì¼ ìƒì„±: tests/test_auth.py       â”‚
â”‚  â”œâ”€â”€ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ì‘ì„±                          â”‚
â”‚  â”‚   â””â”€â”€ test_login_with_valid_credentials     â”‚
â”‚  â”‚   â””â”€â”€ test_login_with_invalid_password      â”‚
â”‚  â”‚   â””â”€â”€ test_login_with_nonexistent_user      â”‚
â”‚  â””â”€â”€ pytest ì‹¤í–‰ â†’ 3 failed âœ“                  â”‚
â”‚                                                 â”‚
â”‚  ğŸŸ¢ GREEN Phase                                 â”‚
â”‚  â”œâ”€â”€ êµ¬í˜„ íŒŒì¼ ìƒì„±: src/auth/login.py          â”‚
â”‚  â”œâ”€â”€ ìµœì†Œ êµ¬í˜„ ì½”ë“œ ì‘ì„±                         â”‚
â”‚  â””â”€â”€ pytest ì‹¤í–‰ â†’ 3 passed âœ“                  â”‚
â”‚                                                 â”‚
â”‚  ğŸ”µ REFACTOR Phase                              â”‚
â”‚  â”œâ”€â”€ ì½”ë“œ ë¦¬ë·° ë° ê°œì„                            â”‚
â”‚  â”œâ”€â”€ ì¤‘ë³µ ì œê±°                                   â”‚
â”‚  â””â”€â”€ pytest ì‹¤í–‰ â†’ 3 passed âœ“                  â”‚
â”‚                                                 â”‚
â”‚  âœ… Task Complete!                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3. ì—ì´ì „íŠ¸ ìœ„ì„

ê° íƒœìŠ¤í¬ì˜ ë„ë©”ì¸ì— ë§ëŠ” ì—ì´ì „íŠ¸ì—ê²Œ ìœ„ì„:

```python
# Backend íƒœìŠ¤í¬
Task(subagent_type="expert-backend", prompt="""
PRD: {PRD_ID}
Task: {TASK_ID} - {TASK_TITLE}

## TDD Phase: RED
1. tests/ ë””ë ‰í† ë¦¬ì— í…ŒìŠ¤íŠ¸ íŒŒì¼ ìƒì„±
2. ìš”êµ¬ì‚¬í•­ì— ë§ëŠ” í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ì‘ì„±
3. pytest ì‹¤í–‰í•˜ì—¬ ì‹¤íŒ¨ í™•ì¸

## ìš”êµ¬ì‚¬í•­
{PRDì—ì„œ ì¶”ì¶œí•œ ìš”êµ¬ì‚¬í•­}

## ê¸°ìˆ  ìŠ¤íƒ
{PRDì˜ ê¸°ìˆ  ìŠ¤íƒ}
""")
```

### 4. ì²´í¬í¬ì¸íŠ¸ ì €ì¥

ê° íƒœìŠ¤í¬/í˜ì´ì¦ˆ ì™„ë£Œ ì‹œ ìë™ ì €ì¥:

`.forge/progress/{PRD_ID}/checkpoint.json`:
```json
{
  "prd_id": "AUTH-001",
  "started_at": "2024-11-30T10:00:00Z",
  "current_task": "FR-002",
  "current_phase": "GREEN",
  "completed_tasks": ["FR-001"],
  "pending_tasks": ["FR-003", "FR-004"],
  "test_summary": {
    "total": 8,
    "passed": 8,
    "failed": 0,
    "coverage": 85
  },
  "last_updated": "2024-11-30T11:30:00Z",
  "can_resume": true
}
```

### 5. ì§„í–‰ ìƒí™© í‘œì‹œ

ì‹¤ì‹œê°„ ì§„í–‰ ìƒí™©:

```
ğŸ”¨ Building: AUTH-001
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“‹ Progress: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 45%

âœ… Completed (2/5):
   â”œâ”€â”€ FR-001: ì´ë©”ì¼ ë¡œê·¸ì¸ âœ“
   â””â”€â”€ FR-002: OAuth ì—°ë™ âœ“

ğŸ”„ In Progress:
   â””â”€â”€ FR-003: ë¹„ë°€ë²ˆí˜¸ ì¬ì„¤ì • [GREEN phase]

â³ Pending (2):
   â”œâ”€â”€ FR-004: ì„¸ì…˜ ê´€ë¦¬
   â””â”€â”€ NFR-001: ì‘ë‹µì‹œê°„ ìµœì í™”

ğŸ“Š Test Summary:
   Tests: 12 passed, 0 failed
   Coverage: 78%

â±ï¸  Elapsed: 1h 23m
ğŸ“ˆ Est. Remaining: 1h 45m
```

### 6. ì™„ë£Œ ë©”ì‹œì§€

```
âœ… Build ì™„ë£Œ: {PRD_ID}

ğŸ“Š Summary:
   â”œâ”€â”€ Tasks: 5/5 ì™„ë£Œ
   â”œâ”€â”€ Tests: 24 passed, 0 failed
   â”œâ”€â”€ Coverage: 87%
   â””â”€â”€ Duration: 3h 15m

ğŸ“ Generated Files:
   â”œâ”€â”€ src/auth/login.py
   â”œâ”€â”€ src/auth/oauth.py
   â”œâ”€â”€ src/auth/password.py
   â”œâ”€â”€ tests/test_auth.py
   â””â”€â”€ tests/test_oauth.py

ğŸ‘‰ ë‹¤ìŒ ë‹¨ê³„:
   /forge:verify {PRD_ID}  - ìš”êµ¬ì‚¬í•­ ê²€ì¦
   /forge:status           - ìƒíƒœ í™•ì¸
```

## ì‹¤íŒ¨ ì²˜ë¦¬

í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨ ë˜ëŠ” ì—ëŸ¬ ë°œìƒ ì‹œ:

```
âš ï¸ Build ì¤‘ë‹¨: {PRD_ID}

âŒ ì‹¤íŒ¨ ìœ„ì¹˜:
   Task: FR-003
   Phase: GREEN
   Error: pytest failed (2 tests)

ğŸ’¾ ì²´í¬í¬ì¸íŠ¸ ì €ì¥ë¨:
   .forge/progress/{PRD_ID}/checkpoint.json

ğŸ”§ í•´ê²° ë°©ë²•:
   1. ì—ëŸ¬ ë¡œê·¸ í™•ì¸: .forge/progress/{PRD_ID}/error.log
   2. ìˆ˜ë™ ìˆ˜ì • í›„ ì¬ê°œ: /forge:resume {PRD_ID}
   3. íŠ¹ì • íƒœìŠ¤í¬ë§Œ ì¬ì‹œë„: /forge:build {PRD_ID} --task FR-003
```

## ì˜µì…˜

- `--task {TASK_ID}`: íŠ¹ì • íƒœìŠ¤í¬ë§Œ ì‹¤í–‰
- `--skip-tests`: í…ŒìŠ¤íŠ¸ ê±´ë„ˆë›°ê¸° (ê¶Œì¥í•˜ì§€ ì•ŠìŒ)
- `--verbose`: ìƒì„¸ ë¡œê·¸ ì¶œë ¥
